(this["webpackJsonpgoit-react-hw"]=this["webpackJsonpgoit-react-hw"]||[]).push([[6],{66:function(e,t,n){"use strict";var r=n(67),a=n(11);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"===typeof e?o(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=a({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),a=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:decodeURIComponent(c),n(decodeURIComponent(a),c,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=o(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(n,e)].join("")};case"bracket":return function(t,n){return null===n?c(t,e):[c(t,e),"[]=",c(n,e)].join("")};default:return function(t,n){return null===n?c(t,e):[c(t,e),"=",c(n,e)].join("")}}}(t=a({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var a=e[r];if(void 0===a)return"";if(null===a)return c(r,t);if(Array.isArray(a)){var o=[];return a.slice().forEach((function(e){void 0!==e&&o.push(n(r,e,o.length))})),o.join("&")}return c(r,t)+"="+c(a,t)})).filter((function(e){return e.length>0})).join("&"):""}},67:function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},68:function(e,t,n){e.exports={MoviePageContainer:"MoviesPage_MoviePageContainer__23Rf9",SearchInput:"MoviesPage_SearchInput__jBhK6",SearchButton:"MoviesPage_SearchButton__3zyNg",SearchItem:"MoviesPage_SearchItem__FfIg9"}},75:function(e,t,n){"use strict";n.r(t);var r=n(31),a=n.n(r),c=n(32),o=n(33),i=n(34),s=n(37),u=n(36),l=n(0),h=n(35),p=n.n(h),f=n(9),d=n(2),v=n(66),m=n.n(v),j=n(68),b=n.n(j),y=n(1),g=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={searchName:"",searchResult:null},e.handleInput=function(t){t.preventDefault(),e.setState({searchName:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(e.state.searchName)}),e.searchMovies(e.state.searchName)},e.searchMovies=function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://api.themoviedb.org/3/search/movie?api_key=132f2a543c82d69a556f0bb280a697a7&query=".concat(n,"&language=en-US&page=1&include_adult=false"));case 2:r=t.sent,e.setState({searchResult:r.data.results}),e.props.location.state={searchName:e.state.searchName};case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=m.a.parse(this.props.location.search).query;e&&this.searchMovies(e)}},{key:"componentDidUpdate",value:function(e,t){var n=m.a.parse(e.location.search).query,r=m.a.parse(this.props.location.search).query;n!==r&&this.searchMovies(r)}},{key:"render",value:function(){var e=this;return Object(y.jsxs)("div",{className:b.a.MoviePageContainer,children:[Object(y.jsxs)("form",{children:[Object(y.jsx)("input",{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:this.handleInput,className:b.a.SearchInput}),Object(y.jsx)("button",{type:"submit",onClick:this.handleSubmit,className:b.a.SearchButton,children:Object(y.jsx)("span",{children:"Search"})})]}),this.state.searchResult&&Object(y.jsx)("ul",{children:this.state.searchResult.map((function(t){return Object(y.jsx)("li",{children:Object(y.jsx)(f.b,{to:{pathname:"".concat(e.props.match.url,"/").concat(t.id),state:{from:e.props.location}},children:Object(y.jsx)("p",{className:b.a.SearchItem,children:t.title})})},t.id)}))})]})}}]),n}(l.Component);t.default=Object(d.f)(g)}}]);
//# sourceMappingURL=movie-page.0ca10a51.chunk.js.map