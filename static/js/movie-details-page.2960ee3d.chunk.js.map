{"version":3,"sources":["services/movies-api.js","views/MovieDetailsPage/MovieDetailsPage.module.css","views/MovieDetailsPage/MovieDetailsPage.js"],"names":["axios","defaults","baseURL","ApiKey","getPopularFilms","get","then","data","catch","console","log","getMovieDetails","id","a","getMovieCast","getMovieReview","getMoviesSearch","searchQuery","module","exports","Cast","lazy","Reviews","MovieDetailsPage","state","movie","clickBack","event","preventDefault","props","location","from","history","push","this","match","params","movieId","response","setState","className","styles","MovieDetailsContainer","type","onClick","BackButton","MovieDetails","MoviePoster","src","poster_path","alt","MovieDescrtiption","MovieTitle","title","vote_average","overview","MovieGenres","genres","map","genre","GenreTitles","name","to","pathname","url","AdditionatIfoLink","activeClassName","AdditionatIfoLinkActive","fallback","path","component","Component","withRouter"],"mappings":"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","file":"static/js/movie-details-page.2960ee3d.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\n\r\nconst ApiKey = '1690d1319b4e719ac3308f10c68ac649';\r\n\r\nexport const getPopularFilms = () => {\r\n  return axios\r\n    .get(`/trending/all/day?api_key=${ApiKey}`)\r\n    .then(({ data }) => data)\r\n    .catch(console.log);\r\n};\r\n\r\nexport const getMovieDetails = async id => {\r\n  try {\r\n    return await axios\r\n      .get(`/movie/${id}?api_key=${ApiKey}&language=en-US`)\r\n      .then(({ data }) => data);\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const getMovieCast = async id => {\r\n  return axios\r\n     .get(`/movie/${id}/credits?api_key=${ApiKey}&language=en-US`, )\r\n     .then(({ data }) => data)\r\n     .catch(console.log);\r\n};\r\n\r\nexport const getMovieReview = async id => {\r\n  return axios\r\n    .get(`/movie/${id}/reviews?api_key=${ApiKey}&language=en-US`, )\r\n    .then(({ data }) => data)\r\n    .catch(console.log);\r\n};\r\n\r\nexport const getMoviesSearch = async searchQuery => {\r\n  return axios\r\n    .get(\r\n      `/search/movie?api_key=${ApiKey}&query=${searchQuery}&language=en-US&page=1&include_adult=false`,\r\n    )\r\n    .then(({ data }) => data)\r\n    .catch(console.log);\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BackButton\":\"MovieDetailsPage_BackButton__2mYF3\",\"MovieDetailsContainer\":\"MovieDetailsPage_MovieDetailsContainer__rrt-M\",\"MovieDetails\":\"MovieDetailsPage_MovieDetails__3qhB1\",\"MoviePoster\":\"MovieDetailsPage_MoviePoster__26dnW\",\"MovieDescrtiption\":\"MovieDetailsPage_MovieDescrtiption__2jgni\",\"MovieTitle\":\"MovieDetailsPage_MovieTitle__35pTV\",\"MovieGenres\":\"MovieDetailsPage_MovieGenres__g3f-K\",\"GenreTitles\":\"MovieDetailsPage_GenreTitles__3GaAh\",\"AdditionatIfoLinkActive\":\"MovieDetailsPage_AdditionatIfoLinkActive__8YSiK\"};","import React, { Component, Suspense, lazy } from 'react';\r\nimport { Route, NavLink, withRouter } from 'react-router-dom';\r\nimport { getMovieDetails } from '../../services/movies-api';\r\nimport styles from './MovieDetailsPage.module.css';\r\n\r\nconst Cast = lazy(() =>\r\n  import('../../components/Cast/Cast' /* webpackChunkName: \"movie-cast\" */),\r\n);\r\n\r\nconst Reviews = lazy(() =>\r\n  import(\r\n    '../../components/Reviews/Reviews' /* webpackChunkName: \"movie-reviews\" */\r\n  ),\r\n);\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: null,\r\n  };\r\n\r\n  clickBack = event => {\r\n    event.preventDefault();\r\n    if (this.props.location.state && this.props.location.state.from) {\r\n      this.props.history.push(this.props.location.state.from);\r\n    }\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const response = await getMovieDetails(this.props.match.params.movieId);\r\n    this.setState({\r\n      movie: response,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      this.state.movie && (\r\n        <div className={styles.MovieDetailsContainer}>\r\n          <button\r\n            type=\"button\"\r\n            onClick={this.clickBack}\r\n            className={styles.BackButton}\r\n          >\r\n            Go back\r\n          </button>\r\n          <div className={styles.MovieDetails}>\r\n            <div>\r\n              <img\r\n                className={styles.MoviePoster}\r\n                src={`https://image.tmdb.org/t/p/w500/${this.state.movie.poster_path}`}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className={styles.MovieDescrtiption}>\r\n              <h1 className={styles.MovieTitle}>{this.state.movie.title}</h1>\r\n              <p>\r\n                User score:\r\n                <span> {this.state.movie.vote_average} </span>\r\n              </p>\r\n              <h2>Overview</h2>\r\n              <p>{this.state.movie.overview}</p>\r\n              <h2>Genres</h2>\r\n              <ul className={styles.MovieGenres}>\r\n                {this.state.movie.genres.map(genre => (\r\n                  <li key={genre.id} className={styles.GenreTitles}>\r\n                    {genre.name}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h2>Adittional information</h2>\r\n            <ul>\r\n              <li>\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `${this.props.match.url}/cast`,\r\n                    state: {\r\n                      from: this.props.location.state.from,\r\n                    },\r\n                  }}\r\n                  className={styles.AdditionatIfoLink}\r\n                  activeClassName={styles.AdditionatIfoLinkActive}\r\n                >\r\n                  Cast\r\n                </NavLink>\r\n              </li>\r\n\r\n              <li>\r\n                <NavLink\r\n                  to={{\r\n                    pathname: `${this.props.match.url}/reviews`,\r\n                    state: {\r\n                      from: this.props.location.state.from,\r\n                    },\r\n                  }}\r\n                  className={styles.AdditionatIfoLink}\r\n                  activeClassName={styles.AdditionatIfoLinkActive}\r\n                >\r\n                  Reviews\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <Suspense fallback={<h1>Loading...</h1>}>\r\n            <Route path=\"/movies/:movieId/cast\" component={Cast} />\r\n            <Route path=\"/movies/:movieId/reviews\" component={Reviews} />\r\n          </Suspense>\r\n        </div>\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(MovieDetailsPage);\r\n"],"sourceRoot":""}